syntax = "proto3";
package dev.yanshouwang.bluetooth_low_energy;

message Message {
  MessageCategory category = 1;
  oneof value {
      BluetoothState state = 2;
      Discovery discovery = 3;
  }
}

message Discovery {
  string address = 1;
  sint32 rssi = 2;
  map<uint32, bytes> advertisements = 3;
}

enum MessageCategory {
    BLUETOOTH_STATE = 0;
    CENTRAL_START_DISCOVERY = 1;
    CENTRAL_STOP_DISCOVERY = 2;
    CENTRAL_DISCOVERED = 3;
}

enum BluetoothState {
  UNKNOWN = 0;
  RESETTING = 1;
  UNSUPPORTED = 2;
  UNAUTHORIZED = 3;
  POWERED_OFF = 4;
  POWERED_ON = 5;
}